<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TechStore - Product Catalog</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #7383c8 0%, #d91414 100%);
            min-height: 100vh;
            color: #333;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            background: rgba(0, 0, 0, 0.218);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 2rem;
            text-align: center;
            margin-bottom: 2rem;
            color: white;
            position: relative;
            overflow: hidden;
        }

        .header::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255,255,255,0.1) 1px, transparent 1px);
            background-size: 50px 50px;
            animation: float 20s linear infinite;
        }

        .header h1 {
            font-size: 3rem;
            margin-bottom: 1rem;
            position: relative;
            z-index: 2;
            background: linear-gradient(45deg, #907171, #4ecdc4);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .header p {
            font-size: 1.2rem;
            opacity: 0.9;
            position: relative;
            z-index: 2;
        }

        .controls {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 15px;
            padding: 2rem;
            margin-bottom: 2rem;
            box-shadow: 0 10px 30px rgba(4, 3, 3, 0.948);
            display: grid;
            grid-template-columns: 1fr 1fr 1fr;
            gap: 2rem;
            align-items: end;
        }

        .control-group {
            display: flex;
            flex-direction: column;
        }

        .control-group label {
            font-weight: 600;
            margin-bottom: 0.5rem;
            color: #333;
            font-size: 0.9rem;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .search-container {
            position: relative;
        }

        .search-input {
            width: 100%;
            padding: 1rem;
            padding-left: 3rem;
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            font-size: 1rem;
            transition: all 0.3s ease;
            outline: none;
        }

        .search-input:focus {
            border-color: #4ecdc4;
            box-shadow: 0 0 20px rgba(78, 205, 196, 0.2);
        }

        .search-icon {
            position: absolute;
            left: 1rem;
            top: 50%;
            transform: translateY(-50%);
            color: #666;
            font-size: 1.1rem;
        }

        .filter-select, .sort-select {
            padding: 1rem;
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            font-size: 1rem;
            background: white;
            cursor: pointer;
            transition: all 0.3s ease;
            outline: none;
        }

        .filter-select:focus, .sort-select:focus {
            border-color: #69b4af;
            box-shadow: 0 0 20px rgba(78, 205, 196, 0.2);
        }

        .price-range {
            display: flex;
            gap: 1rem;
            align-items: center;
        }

        .price-input {
            flex: 1;
            padding: 0.8rem;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 0.9rem;
            text-align: center;
        }

        .results-info {
            background: rgba(255, 255, 255, 0.9);
            padding: 1rem 2rem;
            border-radius: 10px;
            margin-bottom: 2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            backdrop-filter: blur(10px);
        }

        .results-count {
            font-weight: 600;
            color: #333;
        }

        .clear-filters {
            background: linear-gradient(45deg, #639dda, #05f9e9);
            color: white;
            border: none;
            padding: 0.8rem 1.5rem;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
        }

        .clear-filters:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px #01010133;
        }

        .products-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
            gap: 2rem;
            margin-bottom: 2rem;
        }

        .product-card {
            background: rgb(138, 115, 115);
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 10px 30px rgba(255, 254, 254, 0.134);
            transition: all 0.3s ease;
            position: relative;
            animation: slideUp 0.5s ease;
        }

        .product-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 20px 50px rgba(190, 114, 114, 0.244);
        }

        .product-image {
            height: 200px;
            background: linear-gradient(45deg, #507daa, #e9ecef);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 4rem;
            position: relative;
            overflow: hidden;
        }

        .product-badge {
            position: absolute;
            top: 1rem;
            right: 1rem;
            background: linear-gradient(45deg, #c4a3a3, #809c9b);
            color: white;
            padding: 0.3rem 0.8rem;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 600;
            text-transform: uppercase;
        }

        .product-info {
            padding: 1.5rem;
        }

        .product-category {
            color: #4d4b4b;
            font-size: 0.85rem;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            margin-bottom: 0.5rem;
        }

        .product-title {
            font-size: 1.3rem;
            font-weight: 700;
            margin-bottom: 0.5rem;
            color: #333;
            line-height: 1.3;
        }

        .product-description {
            color: #666;
            font-size: 0.9rem;
            line-height: 1.5;
            margin-bottom: 1rem;
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }

        .product-rating {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            margin-bottom: 1rem;
        }

        .stars {
            color: #ffd700;
            font-size: 1.1rem;
        }

        .rating-text {
            color: #666;
            font-size: 0.9rem;
        }

        .product-price {
            font-size: 1.5rem;
            font-weight: 700;
            color: #4ecdc4;
            margin-bottom: 1rem;
        }

        .product-actions {
            display: flex;
            gap: 1rem;
        }

        .btn {
            flex: 1;
            padding: 0.8rem;
            border: none;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: center;
            text-decoration: none;
            display: inline-block;
        }

        .btn-primary {
            background: linear-gradient(45deg, #efe8e8, #4ecdc4);
            color: white;
        }

        .btn-secondary {
            background: transparent;
            color: #333;
            border: 2px solid #e0e0e0;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }

        .btn-secondary:hover {
            border-color: #4ecdc4;
            color: #4ecdc4;
        }

        .no-products {
            text-align: center;
            padding: 4rem 2rem;
            color: white;
        }

        .no-products svg {
            width: 100px;
            height: 100px;
            margin-bottom: 2rem;
            opacity: 0.7;
        }

        .no-products h3 {
            font-size: 2rem;
            margin-bottom: 1rem;
            opacity: 0.8;
        }

        .no-products p {
            font-size: 1.1rem;
            opacity: 0.7;
        }

        .loading {
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 4rem;
            color: white;
        }

        .spinner {
            width: 40px;
            height: 40px;
            border: 4px solid rgba(255, 255, 255, 0.3);
            border-top: 4px solid white;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        @keyframes float {
            0% { transform: translateX(0) translateY(0); }
            100% { transform: translateX(-50px) translateY(-50px); }
        }

        @keyframes slideUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .pagination {
            display: flex;
            justify-content: center;
            gap: 1rem;
            margin-top: 3rem;
        }

        .page-btn {
            padding: 0.8rem 1.2rem;
            background: rgba(255, 255, 255, 0.9);
            border: 2px solid transparent;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 600;
            color: #333;
        }

        .page-btn.active {
            background: linear-gradient(45deg, #dbc6c6, #4ecdc4);
            color: white;
        }

        .page-btn:hover:not(.active) {
            background: white;
            border-color: #4ecdc4;
        }

        .page-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .container {
                padding: 10px;
            }

            .header h1 {
                font-size: 2rem;
            }

            .controls {
                grid-template-columns: 1fr;
                gap: 1.5rem;
            }

            .price-range {
                flex-direction: column;
                gap: 0.5rem;
            }

            .products-grid {
                grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
                gap: 1rem;
            }

            .results-info {
                flex-direction: column;
                gap: 1rem;
                text-align: center;
            }
        }

        @media (max-width: 480px) {
            .products-grid {
                grid-template-columns: 1fr;
            }

            .product-actions {
                flex-direction: column;
            }
        }

        /* Dark mode support */
        @media (prefers-color-scheme: dark) {
            .controls {
                background: rgba(30, 30, 30, 0.95);
                color: #fff;
            }

            .control-group label {
                color: #fff;
            }

            .search-input, .filter-select, .sort-select, .price-input {
                background: #2a2a2a;
                border-color: #444;
                color: #fff;
            }

            .product-card {
                background: #2a2a2a;
                color: #fff;
            }

            .product-title {
                color: #fff;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>🛒 TechStore</h1>
            <p>Products</p>
        </div>

        <div class="controls">
            <div class="control-group">
                <label for="searchInput">Search Products</label>
                <div class="search-container">
                    <input type="text" id="searchInput" class="search-input" placeholder="Search for products...">
                    <span class="search-icon">🔍</span>
                </div>
            </div>

            <div class="control-group">
                <label for="categoryFilter">Filter by Category</label>
                <select id="categoryFilter" class="filter-select">
                    <option value="all">All Categories</option>
                    <option value="electronics">Electronics</option>
                    <option value="clothing">Clothing</option>
                    <option value="home">Home & Garden</option>
                    <option value="sports">Sports</option>
                    <option value="books">Books</option>
                </select>
            </div>

            <div class="control-group">
                <label for="sortSelect">Sort by</label>
                <select id="sortSelect" class="sort-select">
                    <option value="name-asc">Name (A-Z)</option>
                    <option value="name-desc">Name (Z-A)</option>
                    <option value="price-asc">Price (Low to High)</option>
                    <option value="price-desc">Price (High to Low)</option>
                    <option value="rating-desc">Rating (High to Low)</option>
                    <option value="rating-asc">Rating (Low to High)</option>
                </select>
            </div>
        </div>

        <div class="controls">
            <div class="control-group">
                <label>Price Range</label>
                <div class="price-range">
                    <input type="number" id="minPrice" class="price-input" placeholder="Min $" min="0">
                    <span>to</span>
                    <input type="number" id="maxPrice" class="price-input" placeholder="Max $" min="0">
                </div>
            </div>

            <div class="control-group">
                <label for="ratingFilter">Minimum Rating</label>
                <select id="ratingFilter" class="filter-select">
                    <option value="0">All Ratings</option>
                    <option value="1">1+ Stars</option>
                    <option value="2">2+ Stars</option>
                    <option value="3">3+ Stars</option>
                    <option value="4">4+ Stars</option>
                    <option value="5">5 Stars Only</option>
                </select>
            </div>

            <div class="control-group">
                <label>&nbsp;</label>
                <button class="clear-filters" onclick="clearAllFilters()">Clear All Filters</button>
            </div>
        </div>

        <div class="results-info">
            <div class="results-count" id="resultsCount">Loading products...</div>
            <div>
                <select id="itemsPerPage" class="filter-select" style="width: auto;">
                    <option value="12">12 per page</option>
                    <option value="24">24 per page</option>
                    <option value="48">48 per page</option>
                </select>
            </div>
        </div>

        <div id="productsContainer" class="products-grid">
            <div class="loading">
                <div class="spinner"></div>
            </div>
        </div>

        <div id="pagination" class="pagination"></div>
    </div>

    <script>
        class ProductCatalog {
            constructor() {
                this.allProducts = this.generateProducts();
                this.filteredProducts = [...this.allProducts];
                this.currentPage = 1;
                this.itemsPerPage = 12;
                
                this.filters = {
                    search: '',
                    category: 'all',
                    minPrice: null,
                    maxPrice: null,
                    rating: 0
                };
                
                this.sortBy = 'name-asc';
                this.isLoading = false;
                
                this.initializeEventListeners();
                this.applyFiltersAndSort();
                this.renderProducts();
            }

            generateProducts() {
                const categories = ['electronics', 'clothing', 'home', 'sports', 'books'];
                const products = [];
                
                const sampleProducts = [
                    // Electronics
                    { name: 'Wireless Bluetooth Headphones', category: 'electronics', price: 89.99, rating: 4.5, emoji: '🎧', description: 'Premium wireless headphones with noise cancellation and 30-hour battery life.' },
                    { name: 'Smartphone Pro Max', category: 'electronics', price: 999.99, rating: 4.8, emoji: '📱', description: 'Latest flagship smartphone with advanced camera system and 5G connectivity.' },
                    { name: 'Gaming Laptop', category: 'electronics', price: 1299.99, rating: 4.6, emoji: '💻', description: 'High-performance gaming laptop with RTX graphics and 16GB RAM.' },
                    { name: 'Smart Watch Series 5', category: 'electronics', price: 299.99, rating: 4.3, emoji: '⌚', description: 'Advanced fitness tracking and health monitoring smartwatch.' },
                    { name: '4K Smart TV', category: 'electronics', price: 599.99, rating: 4.4, emoji: '📺', description: '55-inch 4K Ultra HD Smart TV with built-in streaming apps.' },
                    { name: 'Wireless Charger', category: 'electronics', price: 29.99, rating: 4.1, emoji: '🔋', description: 'Fast wireless charging pad compatible with all Qi devices.' },
                    
                    // Clothing
                    { name: 'Premium Cotton T-Shirt', category: 'clothing', price: 24.99, rating: 4.2, emoji: '👕', description: '100% organic cotton t-shirt in various colors and sizes.' },
                    { name: 'Designer Jeans', category: 'clothing', price: 89.99, rating: 4.6, emoji: '👖', description: 'Premium denim jeans with perfect fit and comfort.' },
                    { name: 'Winter Jacket', category: 'clothing', price: 149.99, rating: 4.7, emoji: '🧥', description: 'Waterproof winter jacket with thermal insulation.' },
                    { name: 'Running Shoes', category: 'clothing', price: 119.99, rating: 4.5, emoji: '👟', description: 'Lightweight running shoes with advanced cushioning technology.' },
                    { name: 'Formal Dress Shirt', category: 'clothing', price: 49.99, rating: 4.3, emoji: '👔', description: 'Professional dress shirt perfect for office wear.' },
                    { name: 'Cozy Sweater', category: 'clothing', price: 69.99, rating: 4.4, emoji: '🧶', description: 'Warm and comfortable sweater made from premium wool blend.' },
                    
                    // Home & Garden
                    { name: 'Smart Home Hub', category: 'home', price: 99.99, rating: 4.4, emoji: '🏠', description: 'Control all your smart devices from one central hub.' },
                    { name: 'Coffee Maker Pro', category: 'home', price: 199.99, rating: 4.6, emoji: '☕', description: 'Professional-grade coffee maker with built-in grinder.' },
                    { name: 'Indoor Plant Collection', category: 'home', price: 39.99, rating: 4.2, emoji: '🌱', description: 'Set of 5 low-maintenance indoor plants to brighten your home.' },
                    { name: 'LED Desk Lamp', category: 'home', price: 59.99, rating: 4.3, emoji: '💡', description: 'Adjustable LED desk lamp with multiple brightness settings.' },
                    { name: 'Kitchen Knife Set', category: 'home', price: 129.99, rating: 4.7, emoji: '🔪', description: 'Professional chef knife set with wooden block storage.' },
                    { name: 'Aromatherapy Diffuser', category: 'home', price: 34.99, rating: 4.1, emoji: '🕯️', description: 'Ultrasonic essential oil diffuser with color-changing lights.' },
                    
                    // Sports
                    { name: 'Yoga Mat Premium', category: 'sports', price: 45.99, rating: 4.5, emoji: '🧘', description: 'Extra-thick yoga mat with superior grip and comfort.' },
                    { name: 'Basketball Official', category: 'sports', price: 29.99, rating: 4.3, emoji: '🏀', description: 'Official size and weight basketball for indoor/outdoor play.' },
                    { name: 'Fitness Resistance Bands', category: 'sports', price: 19.99, rating: 4.2, emoji: '💪', description: 'Set of 5 resistance bands for full-body workouts.' },
                    { name: 'Tennis Racket Pro', category: 'sports', price: 159.99, rating: 4.6, emoji: '🎾', description: 'Professional tennis racket with carbon fiber construction.' },
                    { name: 'Swimming Goggles', category: 'sports', price: 24.99, rating: 4.1, emoji: '🥽', description: 'Anti-fog swimming goggles with UV protection.' },
                    { name: 'Dumbbell Set', category: 'sports', price: 199.99, rating: 4.4, emoji: '🏋️', description: 'Adjustable dumbbell set from 5-50 lbs per dumbbell.' },
                    
                    // Books
                    { name: 'Programming Masterclass', category: 'books', price: 34.99, rating: 4.8, emoji: '📚', description: 'Complete guide to modern programming languages and techniques.' },
                    { name: 'The Art of Cooking', category: 'books', price: 29.99, rating: 4.5, emoji: '🍳', description: 'Professional chef techniques and 200+ delicious recipes.' },
                    { name: 'Mindfulness Meditation Guide', category: 'books', price: 19.99, rating: 4.3, emoji: '📖', description: 'Learn meditation techniques for stress relief and mental clarity.' },
                    { name: 'Business Strategy Handbook', category: 'books', price: 39.99, rating: 4.4, emoji: '📊', description: 'Essential strategies for business growth and leadership.' },
                    { name: 'Photography Essentials', category: 'books', price: 27.99, rating: 4.6, emoji: '📸', description: 'Master digital photography from basics to advanced techniques.' },
                    { name: 'Gardening for Beginners', category: 'books', price: 22.99, rating: 4.2, emoji: '🌿', description: 'Complete guide to starting and maintaining your own garden.' }
                ];
                
                // Generate additional products to have more variety
                sampleProducts.forEach((product, index) => {
                    products.push({
                        id: index + 1,
                        ...product,
                        inStock: Math.random() > 0.1, // 90% chance of being in stock
                        isNew: Math.random() > 0.8, // 20% chance of being new
                        discount: Math.random() > 0.7 ? Math.floor(Math.random() * 30) + 10 : 0 // 30% chance of discount
                    });
                });
                
                return products;
            }

            initializeEventListeners() {
                // Search input
                document.getElementById('searchInput').addEventListener('input', (e) => {
                    this.filters.search = e.target.value.toLowerCase();
                    this.currentPage = 1;
                    this.applyFiltersAndSort();
                    this.renderProducts();
                });

                // Category filter
                document.getElementById('categoryFilter').addEventListener('change', (e) => {
                    this.filters.category = e.target.value;
                    this.currentPage = 1;
                    this.applyFiltersAndSort();
                    this.renderProducts();
                });

                // Sort select
                document.getElementById('sortSelect').addEventListener('change', (e) => {
                    this.sortBy = e.target.value;
                    this.applyFiltersAndSort();
                    this.renderProducts();
                });

                // Price range inputs
                document.getElementById('minPrice').addEventListener('input', (e) => {
                    this.filters.minPrice = e.target.value ? parseFloat(e.target.value) : null;
                    this.currentPage = 1;
                    this.applyFiltersAndSort();
                    this.renderProducts();
                });

                document.getElementById('maxPrice').addEventListener('input', (e) => {
                    this.filters.maxPrice = e.target.value ? parseFloat(e.target.value) : null;
                    this.currentPage = 1;
                    this.applyFiltersAndSort();
                    this.renderProducts();
                });

                // Rating filter
                document.getElementById('ratingFilter').addEventListener('change', (e) => {
                    this.filters.rating = parseFloat(e.target.value);
                    this.currentPage = 1;
                    this.applyFiltersAndSort();
                    this.renderProducts();
                });

                // Items per page
                document.getElementById('itemsPerPage').addEventListener('change', (e) => {
                    this.itemsPerPage = parseInt(e.target.value);
                    this.currentPage = 1;
                    this.renderProducts();
                });
            }

            applyFiltersAndSort() {
                let filtered = [...this.allProducts];

                // Apply search filter
                if (this.filters.search) {
                    filtered = filtered.filter(product =>
                        product.name.toLowerCase().includes(this.filters.search) ||
                        product.description.toLowerCase().includes(this.filters.search) ||
                        product.category.toLowerCase().includes(this.filters.search)
                    );
                }

                // Apply category filter
                if (this.filters.category !== 'all') {
                    filtered = filtered.filter(product => product.category === this.filters.category);
                }

                // Apply price range filter
                if (this.filters.minPrice !== null) {
                    filtered = filtered.filter(product => product.price >= this.filters.minPrice);
                }

                if (this.filters.maxPrice !== null) {
                    filtered = filtered.filter(product => product.price <= this.filters.maxPrice);
                }

                // Apply rating filter
                if (this.filters.rating > 0) {
                    filtered = filtered.filter(product => product.rating >= this.filters.rating);
                }

                // Apply sorting
                filtered.sort((a, b) => {
                    switch (this.sortBy) {
                        case 'name-asc':
                            return a.name.localeCompare(b.name);
                        case 'name-desc':
                            return b.name.localeCompare(a.name);
                        case 'price-asc':
                            return a.price - b.price;
                        case 'price-desc':
                            return b.price - a.price;
                        case 'rating-asc':
                            return a.rating - b.rating;
                        case 'rating-desc':
                            return b.rating - a.rating;
                        default:
                            return 0;
                    }
                });

                this.filteredProducts = filtered;
            }

            renderProducts() {
                const container = document.getElementById('productsContainer');
                const resultsCount = document.getElementById('resultsCount');

                // Update results count
                const totalResults = this.filteredProducts.length;
                const startItem = (this.currentPage - 1) * this.itemsPerPage + 1;
                const endItem = Math.min(this.currentPage * this.itemsPerPage, totalResults);

                if (totalResults > 0) {
                    resultsCount.textContent = `Showing ${startItem}-${endItem} of ${totalResults} products`;
                } else {
                    resultsCount.textContent = 'No products found';
                }

                // Get products for current page
                const startIndex = (this.currentPage - 1) * this.itemsPerPage;
                const endIndex = startIndex + this.itemsPerPage;
                const pageProducts = this.filteredProducts.slice(startIndex, endIndex);

                if (pageProducts.length === 0 && totalResults === 0) {
                    container.innerHTML = `
                        <div class="no-products">
                            <svg viewBox="0 0 24 24" fill="currentColor">
                                <path d="M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M12,4C16.41,4 20,7.59 20,12C20,16.41 16.41,20 12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4M12,7A5,5 0 0,0 7,12A5,5 0 0,0 12,17A5,5 0 0,0 17,12A5,5 0 0,0 12,7M12,9A3,3 0 0,1 15,12A3,3 0 0,1 12,15A3,3 0 0,1 9,12A3,3 0 0,1 12,9Z"/>
                            </svg>
                            <h3>No Products Found</h3>
                            <p>Try adjusting your search criteria or filters</p>
                        </div>
                    `;
                } else {
                    container.innerHTML = pageProducts.map(product => this.createProductCard(product)).join('');
                }

                this.renderPagination();
            }

            createProductCard(product) {
                const originalPrice = product.discount > 0 ? (product.price / (1 - product.discount / 100)).toFixed(2) : null;
                const badge = product.isNew ? 'NEW' : (product.discount > 0 ? `${product.discount}% OFF` : '');

                return `
                    <div class="product-card">
                        <div class="product-image">
                            ${product.emoji}
                            ${badge ? `<div class="product-badge">${badge}</div>` : ''}
                        </div>
                        <div class="product-info">
                            <div class="product-category">${product.category}</div>
                            <h3 class="product-title">${product.name}</h3>
                            <p class="product-description">${product.description}</p>
                            <div class="product-rating">
                                <div class="stars">${this.generateStars(product.rating)}</div>
                                <span class="rating-text">${product.rating} (${Math.floor(Math.random() * 500) + 50} reviews)</span>
                            </div>
                            <div class="product-price">
                                ${originalPrice ? `<span style="text-decoration: line-through; color: #999; margin-right: 10px;">${originalPrice}</span>` : ''}
                                ${product.price.toFixed(2)}
                            </div>
                            <div class="product-actions">
                                <button class="btn btn-primary" onclick="addToCart(${product.id})" ${!product.inStock ? 'disabled' : ''}>
                                </button>
                                <button class="btn btn-secondary" onclick="viewProduct(${product.id})">View Details</button>
                            </div>
                        </div>
                    </div>
                `;
            }

            generateStars(rating) {
                const fullStars = Math.floor(rating);
                const hasHalfStar = rating % 1 >= 0.5;
                let stars = '';
                
                for (let i = 0; i < fullStars; i++) {
                    stars += '★';
                }
                
                if (hasHalfStar) {
                    stars += '☆';
                }
                
                const remainingStars = 5 - Math.ceil(rating);
                for (let i = 0; i < remainingStars; i++) {
                    stars += '☆';
                }
                
                return stars;
            }

            renderPagination() {
                const pagination = document.getElementById('pagination');
                const totalPages = Math.ceil(this.filteredProducts.length / this.itemsPerPage);

                if (totalPages <= 1) {
                    pagination.innerHTML = '';
                    return;
                }

                let paginationHTML = '';

                // Previous button
                paginationHTML += `
                    <button class="page-btn" onclick="catalog.goToPage(${this.currentPage - 1})" ${this.currentPage === 1 ? 'disabled' : ''}>
                        ← Previous
                    </button>
                `;

                // Page numbers
                const startPage = Math.max(1, this.currentPage - 2);
                const endPage = Math.min(totalPages, this.currentPage + 2);

                if (startPage > 1) {
                    paginationHTML += `<button class="page-btn" onclick="catalog.goToPage(1)">1</button>`;
                    if (startPage > 2) {
                        paginationHTML += `<span class="page-btn" style="cursor: default;">...</span>`;
                    }
                }

                for (let i = startPage; i <= endPage; i++) {
                    paginationHTML += `
                        <button class="page-btn ${i === this.currentPage ? 'active' : ''}" onclick="catalog.goToPage(${i})">
                            ${i}
                        </button>
                    `;
                }

                if (endPage < totalPages) {
                    if (endPage < totalPages - 1) {
                        paginationHTML += `<span class="page-btn" style="cursor: default;">...</span>`;
                    }
                    paginationHTML += `<button class="page-btn" onclick="catalog.goToPage(${totalPages})">${totalPages}</button>`;
                }

                // Next button
                paginationHTML += `
                    <button class="page-btn" onclick="catalog.goToPage(${this.currentPage + 1})" ${this.currentPage === totalPages ? 'disabled' : ''}>
                        Next →
                    </button>
                `;

                pagination.innerHTML = paginationHTML;
            }

            goToPage(page) {
                const totalPages = Math.ceil(this.filteredProducts.length / this.itemsPerPage);
                if (page >= 1 && page <= totalPages) {
                    this.currentPage = page;
                    this.renderProducts();
                    
                    // Scroll to top of products
                    document.getElementById('productsContainer').scrollIntoView({ 
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            }
        }

        // Initialize the catalog
        const catalog = new ProductCatalog();

        function addToCart(productId) {
            const product = catalog.allProducts.find(p => p.id === productId);
            if (product && product.inStock) {
                showNotification(`Added "${product.name}" to cart! 🛒`, 'success');
                
                const productCard = event.target.closest('.product-card');
                productCard.style.transform = 'scale(0.95)';
                setTimeout(() => {
                    productCard.style.transform = '';
                }, 200);
            } else {
                showNotification('Sorry, this item is out of stock!', 'error');
            }
        }

        function viewProduct(productId) {
            const product = catalog.allProducts.find(p => p.id === productId);
            if (product) {
                showProductModal(product);
            }
        }

        function showProductModal(product) {
          
            const modalOverlay = document.createElement('div');
            modalOverlay.style.cssText = `
                position: fixed;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                background: rgba(0, 0, 0, 0.8);
                display: flex;
                justify-content: center;
                align-items: center;
                z-index: 10000;
                animation: fadeIn 0.3s ease;
            `;

            const modal = document.createElement('div');
            modal.style.cssText = `
                background: white;
                border-radius: 15px;
                padding: 2rem;
                max-width: 500px;
                width: 90%;
                max-height: 80vh;
                overflow-y: auto;
                position: relative;
                animation: slideUp 0.3s ease;
            `;

            modal.innerHTML = `
                <button onclick="this.closest('[style*=fixed]').remove()" style="
                    position: absolute;
                    top: 1rem;
                    right: 1rem;
                    background: none;
                    border: none;
                    font-size: 1.5rem;
                    cursor: pointer;
                    color: #999;
                    width: 30px;
                    height: 30px;
                    border-radius: 50%;
                    display: flex;
                    align-items: center;
                    justify-content: center;
                ">×</button>
                
                <div style="text-align: center; margin-bottom: 2rem;">
                    <div style="font-size: 5rem; margin-bottom: 1rem;">${product.emoji}</div>
                    <div style="color: #666; font-size: 0.9rem; text-transform: uppercase; letter-spacing: 0.5px; margin-bottom: 0.5rem;">${product.category}</div>
                    <h2 style="font-size: 1.8rem; margin-bottom: 1rem; color: #333;">${product.name}</h2>
                    <div style="display: flex; align-items: center; justify-content: center; gap: 0.5rem; margin-bottom: 1rem;">
                        <span style="color: #ffd700; font-size: 1.2rem;">${catalog.generateStars(product.rating)}</span>
                        <span style="color: #666;">${product.rating} (${Math.floor(Math.random() * 500) + 50} reviews)</span>
                    </div>
                    <div style="font-size: 2rem; font-weight: 700; color: #4ecdc4; margin-bottom: 1rem;">${product.price.toFixed(2)}</div>
                </div>
                
                <div style="margin-bottom: 2rem;">
                    <h3 style="margin-bottom: 1rem; color: #333;">Description</h3>
                    <p style="color: #666; line-height: 1.6; margin-bottom: 1rem;">${product.description}</p>
                    
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1rem; margin-top: 1.5rem;">
                        <div>
                            <strong>Category:</strong><br>
                            <span style="color: #666;">${product.category.charAt(0).toUpperCase() + product.category.slice(1)}</span>
                        </div>
                        <div>
                            <strong>Availability:</strong><br>
                            <span style="color: ${product.inStock ? '#4ecdc4' : '#ff6b6b'};">${product.inStock ? 'In Stock' : 'Out of Stock'}</span>
                        </div>
                    </div>
                </div>
                
                <div style="display: flex; gap: 1rem;">
                    <button onclick="addToCart(${product.id}); this.closest('[style*=fixed]').remove();" 
                            style="flex: 1; padding: 1rem; background: linear-gradient(45deg, #ff6b6b, #4ecdc4); color: white; border: none; border-radius: 8px; font-weight: 600; cursor: pointer; transition: transform 0.3s ease;" 
                            ${!product.inStock ? 'disabled style="opacity: 0.5; cursor: not-allowed;"' : ''}
                            onmouseover="this.style.transform='translateY(-2px)'" 
                            onmouseout="this.style.transform=''">
                        ${product.inStock ? 'Add to Cart' : 'Out of Stock'}
                    </button>
                    <button onclick="this.closest('[style*=fixed]').remove()" 
                            style="flex: 1; padding: 1rem; background: transparent; color: #333; border: 2px solid #e0e0e0; border-radius: 8px; font-weight: 600; cursor: pointer; transition: all 0.3s ease;"
                            onmouseover="this.style.borderColor='#4ecdc4'; this.style.color='#4ecdc4'" 
                            onmouseout="this.style.borderColor='#e0e0e0'; this.style.color='#333'">
                        Close
                    </button>
                </div>
            `;

            modalOverlay.appendChild(modal);
            document.body.appendChild(modalOverlay);

          
            modalOverlay.addEventListener('click', (e) => {
                if (e.target === modalOverlay) {
                    modalOverlay.remove();
                }
            });
        }

        function clearAllFilters() {
           document.getElementById('searchInput').value = '';
            document.getElementById('categoryFilter').value = 'all';
            document.getElementById('sortSelect').value = 'name-asc';
            document.getElementById('minPrice').value = '';
            document.getElementById('maxPrice').value = '';
            document.getElementById('ratingFilter').value = '0';
            
            catalog.filters = {
                search: '',
                category: 'all',
                minPrice: null,
                maxPrice: null,
                rating: 0
            };
            catalog.sortBy = 'name-asc';
            catalog.currentPage = 1;
            
            catalog.applyFiltersAndSort();
            catalog.renderProducts();
            
            showNotification('All filters cleared!', 'success');
        }

        function showNotification(message, type = 'info') {
            const notification = document.createElement('div');
            notification.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                padding: 1rem 2rem;
                border-radius: 10px;
                color: white;
                font-weight: 600;
                z-index: 10000;
                max-width: 300px;
                word-wrap: break-word;
                animation: slideInRight 0.3s ease;
            `;

            switch (type) {
                case 'success':
                    notification.style.background = 'linear-gradient(45deg, #4ecdc4, #44a08d)';
                    break;
                case 'error':
                    notification.style.background = 'linear-gradient(45deg, #ff6b6b, #ee5a52)';
                    break;
                default:
                    notification.style.background = 'linear-gradient(45deg, #667eea, #764ba2)';
            }

            notification.textContent = message;
            document.body.appendChild(notification);

            // Remove notification after 3 seconds
            setTimeout(() => {
                notification.style.animation = 'slideOutRight 0.3s ease';
                setTimeout(() => {
                    if (notification.parentNode) {
                        notification.parentNode.removeChild(notification);
                    }
                }, 300);
            }, 3000);
        }

        // Add notification animations
        const notificationStyles = document.createElement('style');
        notificationStyles.textContent = `
            @keyframes fadeIn {
                from { opacity: 0; }
                to { opacity: 1; }
            }
            
            @keyframes slideInRight {
                from {
                    transform: translateX(100%);
                    opacity: 0;
                }
                to {
                    transform: translateX(0);
                    opacity: 1;
                }
            }
            
            @keyframes slideOutRight {
                from {
                    transform: translateX(0);
                    opacity: 1;
                }
                to {
                    transform: translateX(100%);
                    opacity: 0;
                }
            }
        `;
        document.head.appendChild(notificationStyles);

        
        document.addEventListener('keydown', (e) => {
            // ESC to close modal
            if (e.key === 'Escape') {
                const modal = document.querySelector('[style*="position: fixed"][style*="rgba(0, 0, 0, 0.8)"]');
                if (modal) {
                    modal.remove();
                }
            }
          
            if (e.ctrlKey && e.key === 'f') {
                e.preventDefault();
                document.getElementById('searchInput').focus();
            }
        });

       
        window.addEventListener('load', () => {
            setTimeout(() => {
                const loadingElement = document.querySelector('.loading');
                if (loadingElement && loadingElement.parentNode) {
                    loadingElement.style.animation = 'fadeOut 0.5s ease';
                    setTimeout(() => {
                        catalog.renderProducts();
                    }, 500);
                }
            }, 1000);
        });

        const additionalStyles = document.createElement('style');
        additionalStyles.textContent = `
            @keyframes fadeOut {
                from { opacity: 1; }
                to { opacity: 0; }
            }
            
            .btn:disabled {
                opacity: 0.5;
                cursor: not-allowed;
                transform: none !important;
            }
        `;
        document.head.appendChild(additionalStyles);
    </script>
</body>
</html>